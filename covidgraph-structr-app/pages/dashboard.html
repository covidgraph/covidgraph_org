<!-- @structr:owner(admin), @structr:grant(admin,arwd), @structr:content(text/html) --><structr:template src="Main Page Template (Application)-c107a6f69ed04c89af4523683efeb58d" data-structr-meta-name="Main Page Template (Application)">
	<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
	<div class="row">
		<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
		<div class="col-lg-24 col-xl-12">
			<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
			<div class="icon-cards-row">
				<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
				<ul class="glide__slides">
					<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
					<li class="glide__slide col-lg-2 col-md-4 mb-2"><!-- @structr:owner(admin), @structr:grant(admin,arwd) --><a class="card" href="/genes">
							<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
							<div class="card-body text-center"><!-- @structr:owner(admin), @structr:grant(admin,arwd) --><i class="iconsminds-dna-2"></i>
								<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
								<p class="card-text mb-0"><!-- @structr:owner(admin), @structr:grant(admin,arwd), @structr:content(text/plain) -->Genes</p>
								<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
								<p class="lead text-center"><!-- @structr:owner(admin), @structr:grant(admin,arwd), @structr:content(text/plain) -->${{
	
	const neoConnector = $.call('getCovidGraphConnector');
	const query        = 'MATCH (gene:Gene) RETURN COUNT(DISTINCT gene) AS numGenes';
	const result       = neoConnector.query({query : query});
	const numGenes     = $.first(result).numGenes;
	$.print(numGenes);
	
}}</p>
							</div>
						</a></li>
					<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
					<li class="glide__slide col-lg-2 col-md-4 mb-2"><!-- @structr:owner(admin), @structr:grant(admin,arwd) --><a class="card" href="/papers">
							<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
							<div class="card-body text-center"><!-- @structr:owner(admin), @structr:grant(admin,arwd) --><i class="iconsminds-testimonal"></i>
								<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
								<p class="card-text mb-0"><!-- @structr:owner(admin), @structr:grant(admin,arwd), @structr:content(text/plain) -->Papers</p>
								<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
								<p class="lead text-center"><!-- @structr:owner(admin), @structr:grant(admin,arwd), @structr:content(text/plain) -->${{
	
	const neoConnector = $.call('getCovidGraphConnector');
	const query        = 'MATCH (paper:Paper) RETURN COUNT(DISTINCT paper) AS numPapers';
	const result       = neoConnector.query({query : query});
	const numPapers    = $.first(result).numPapers;
	$.print(numPapers);
	
}}</p>
							</div>
						</a></li>
					<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
					<li class="glide__slide col-lg-2 col-md-4 mb-2"><!-- @structr:owner(admin), @structr:grant(admin,arwd) --><a class="card" href="/patents">
							<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
							<div class="card-body text-center"><!-- @structr:owner(admin), @structr:grant(admin,arwd) --><i class="iconsminds-diploma-2"></i>
								<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
								<p class="card-text mb-0"><!-- @structr:owner(admin), @structr:grant(admin,arwd), @structr:content(text/plain) -->Patents</p>
								<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
								<p class="lead text-center"><!-- @structr:owner(admin), @structr:grant(admin,arwd), @structr:content(text/plain) -->${{
	
	const neoConnector = $.call('getCovidGraphConnector');
	const query        = 'MATCH (patent:Patent) RETURN COUNT(DISTINCT patent) AS numPatents';
	const result       = neoConnector.query({query : query});
	const numPatents     = $.first(result).numPatents;
	$.print(numPatents);
	
}}</p>
							</div>
						</a></li>
					<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
					<li class="glide__slide col-lg-2 col-md-4 mb-2"><!-- @structr:owner(admin), @structr:grant(admin,arwd) --><a class="card" href="/authors">
							<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
							<div class="card-body text-center"><!-- @structr:owner(admin), @structr:grant(admin,arwd) --><i class="iconsminds-student-male-female"></i>
								<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
								<p class="card-text mb-0"><!-- @structr:owner(admin), @structr:grant(admin,arwd), @structr:content(text/plain) -->Authors</p>
								<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
								<p class="lead text-center"><!-- @structr:owner(admin), @structr:grant(admin,arwd), @structr:content(text/plain) -->${{
	
	const neoConnector = $.call('getCovidGraphConnector');
	const query        = 'MATCH (author:Author) RETURN COUNT(DISTINCT author) AS numAuthors';
	const result       = neoConnector.query({query : query});
	const numAuthors     = $.first(result).numAuthors;
	$.print(numAuthors);
	
}}</p>
							</div>
						</a></li>
					<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
					<li class="glide__slide col-lg-2 col-md-4 mb-2"><!-- @structr:owner(admin), @structr:grant(admin,arwd) --><a class="card" href="/proteins">
							<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
							<div class="card-body text-center"><!-- @structr:owner(admin), @structr:grant(admin,arwd) --><i class="iconsminds-chemical"></i>
								<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
								<p class="card-text mb-0"><!-- @structr:owner(admin), @structr:grant(admin,arwd), @structr:content(text/plain) -->Proteins</p>
								<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
								<p class="lead text-center"><!-- @structr:owner(admin), @structr:grant(admin,arwd), @structr:content(text/plain) -->${{
	
	const neoConnector = $.call('getCovidGraphConnector');
	const query        = 'MATCH (protein:Protein) RETURN COUNT(DISTINCT protein) AS numProteins';
	const result       = neoConnector.query({query : query});
	const numProteins     = $.first(result).numProteins;
	$.print(numProteins);
	
}}</p>
							</div>
						</a></li>
					<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
					<li class="glide__slide col-lg-2 col-md-4 mb-2"><!-- @structr:owner(admin), @structr:grant(admin,arwd) --><a class="card" href="/tissues">
							<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
							<div class="card-body text-center"><!-- @structr:owner(admin), @structr:grant(admin,arwd) --><i class="iconsminds-brain"></i>
								<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
								<p class="card-text mb-0"><!-- @structr:owner(admin), @structr:grant(admin,arwd), @structr:content(text/plain) -->Tissues</p>
								<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
								<p class="lead text-center"><!-- @structr:owner(admin), @structr:grant(admin,arwd), @structr:content(text/plain) -->${{
	
	const neoConnector = $.call('getCovidGraphConnector');
	const query        = 'MATCH (tissue:GtexDetailedTissue) RETURN COUNT(DISTINCT tissue) AS numTissues';
	const result       = neoConnector.query({query : query});
	const numTissues   = $.first(result).numTissues;
	$.print(numTissues);
	
}}</p>
							</div>
						</a></li>
				</ul>
			</div>
		</div>
	</div>
	<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
	<div class="row">
		<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
		<div class="col-md-12 mb-4">
			<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
			<div class="card">
				<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
				<div class="position-absolute card-top-buttons">
					<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
					<button class="btn btn-header-light icon-button" type="button" aria-expanded="false" aria-haspopup="true" data-toggle="dropdown"><!-- @structr:owner(admin), @structr:grant(admin,arwd) --><i class="simple-icon-size-fullscreen"></i></button>
					<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
					<div class="dropdown-menu dropdown-menu-right mt-3"><!-- @structr:owner(admin), @structr:grant(admin,arwd) --><a class="dropdown-item" href="#"><!-- @structr:owner(admin), @structr:grant(admin,arwd), @structr:content(text/plain) -->Sales</a><!-- @structr:owner(admin), @structr:grant(admin,arwd) --><a class="dropdown-item" href="#"><!-- @structr:owner(admin), @structr:grant(admin,arwd), @structr:content(text/plain) -->Orders</a><!-- @structr:owner(admin), @structr:grant(admin,arwd) --><a class="dropdown-item" href="#"><!-- @structr:owner(admin), @structr:grant(admin,arwd), @structr:content(text/plain) -->Refunds</a></div>
				</div>
				<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
				<div class="card-body">
					<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
					<h5 class="card-title"><!-- @structr:owner(admin), @structr:grant(admin,arwd), @structr:content(text/plain) -->Covid-Graph Schema</h5>
					<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
					<script src="/applications/js/libs/vis-network.min.js" type="text/javascript"></script>
					<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
					<style type="text/css"><!-- @structr:owner(admin), @structr:grant(admin,arwd), @structr:content(text/css) -->    html, body {
      font: 10pt arial;
    }
    #schema-graph {
      /*width: 600px;*/
      height: 800px;
      border: 1px solid lightgray;
    }
  </style>
					<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
					<script type="text/javascript"><!-- @structr:owner(admin), @structr:grant(admin,arwd), @structr:content(text/javascript) -->document.addEventListener('DOMContentLoaded', async function() {

	const container = document.getElementById('schema-graph');
	
	const endpoint = await fetch('/endpoints/schema');
	const text     = await endpoint.text();
	const data     = JSON.parse(text);
	
	const options = {
		nodes: {
			shape: 'dot'
		}
	};

	const graph = new vis.Network(container, data, options);

});</script>
					<!-- @structr:owner(admin), @structr:grant(admin,arwd) -->
					<div id="schema-graph" style="min-height: 800px; "></div>
				</div>
			</div>
		</div>
	</div>
</structr:template>

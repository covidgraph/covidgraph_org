<!DOCTYPE html>
<html>
	<head>
		<title><!-- @structr:content(text/plain) -->${capitalize(page.name)}</title>
	</head>
	<body>
		<h1><!-- @structr:content(text/plain) -->${capitalize(page.name)}</h1>
		<div>
			<input id="uuidPaper" placeholder="Paper">
			<input id="uuidRecommendationView" placeholder="RecommendationView">
			<button id="updateNode"><!-- @structr:content(text/plain) -->Add Paper to RecommendationView</button>
		</div>
		<div id="text"><!-- @structr:content(text/plain) -->#text</div>
		<script type="module"><!-- @structr:content(module) -->import { Persistence } from "/persistence-layer/persistence/Persistence.js";
import { StructrRest } from "/persistence-layer/rest/StructrRest.js";

const persistence = new Persistence();
const structrRest = new StructrRest();

async function getRecommendationView(id) {

	let recommendationView = await structrRest.getById('RecommendationView', id, 'myView');	
	return recommendationView.result;

}

async function updateNode() {

	const recommendationViewInput = document.getElementById('uuidRecommendationView');
	const paperInput              = document.getElementById('uuidPaper');
	
	const rvId    = recommendationViewInput.value;
	const paperId = paperInput.value;
	
	const recommendationView = await getRecommendationView(rvId);
	recommendationView.name = recommendationView.name + '123';
	recommendationView.papers = recommendationView.papers.concat(rvId);

}

document.addEventListener('DOMContentLoaded', () =&gt; {
		
	const editButton = document.getElementById('updateNode');
	editButton.addEventListener('click', updateNode);

});</script>
	</body>
</html>